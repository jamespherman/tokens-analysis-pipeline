# Aggregated Analysis Data Dictionary

This document defines the canonical data structure for the `aggregated_analysis_data.mat` file, which is the output of the `aggregate_analysis_results.m` script. This file contains two top-level structs: `aggregated_sc_data` and `aggregated_snc_data`.

The structure within each is dynamically generated by pooling the `.analysis` fields from all completed sessions for a given brain area.

## Top-Level Structure (`aggregated_sc_data` and `aggregated_snc_data`)

| Field | Type | Description |
|---|---|---|
| `session_id` | `[N x 1] cell` | A cell array of strings indicating the `unique_id` of the session from which each neuron's data originated. [cite_start]`N` is the total number of neurons from all aggregated sessions for that brain area. [cite: 172-173] |
| `roc_comparison` | `struct` | Pooled results from the between-condition ROC analysis. |
| `baseline_comparison` | `struct` | Pooled results from the baseline vs. post-event analysis. |
| `anova_results` | `struct` | Pooled results from the N-way ANOVA analysis. |

---

### `roc_comparison` Structure (`aggregated_sc_data`)

-   **Path:** `aggregated_sc_data.roc_comparison.(eventName).(compName)`
-   **Description:** Contains the pooled results from `analyze_roc_comparison.m`. `eventName` is the alignment event (e.g., `CUE_ON`), and `compName` is the unique name for the analysis as defined in the `roc_plan` (e.g., `Dist_at_Cue`).

| Field | Type | Description |
|---|---|---|
| `.sig` | `[N x T] double` | A matrix of significance values pooled from all sessions, where `N` is the total number of neurons and `T` is the number of time bins. |
| `.time_vector` | `[1 x T] double` | The time vector corresponding to the columns of the `.sig` matrix. The first-encountered vector is used as the canonical time base for all aggregated neurons in this analysis. |

---

### `baseline_comparison` Structure (`aggregated_sc_data`)

-   **Path:** `aggregated_sc_data.baseline_comparison.(eventName).(condName)`
-   **Description:** Contains the pooled results from `analyze_baseline_comparison.m`. `eventName` is the alignment event (e.g., `CUE_ON`), and `condName` is the name of the condition mask used for the analysis (e.g., `is_norm_common`).

| Field | Type | Description |
|---|---|---|
| `.sig` | `[N x T] double` | A matrix of significance values pooled from all sessions. |
| `.time_vector` | `[1 x T] double`| The time vector corresponding to the columns of the `.sig` matrix. |

---

### `roc_comparison` Structure (`aggregated_snc_data`)

-   **Path:** `aggregated_snc_data.roc_comparison.(eventName).(compName)`
-   **Description:** Contains the pooled results from `analyze_roc_comparison.m`. `eventName` is the alignment event (e.g., `CUE_ON`), and `compName` is the unique name for the analysis as defined in the `roc_plan` (e.g., `Dist_at_Cue`).

| Field | Type | Description |
|---|---|---|
| `.sig` | `[N x T] double` | A matrix of significance values pooled from all sessions, where `N` is the total number of neurons and `T` is the number of time bins. |
| `.time_vector` | `[1 x T] double` | The time vector corresponding to the columns of the `.sig` matrix. The first-encountered vector is used as the canonical time base for all aggregated neurons in this analysis. |

---

### `baseline_comparison` Structure (`aggregated_snc_data`)

-   **Path:** `aggregated_snc_data.baseline_comparison.(eventName).(condName)`
-   **Description:** Contains the pooled results from `analyze_baseline_comparison.m`. `eventName` is the alignment event (e.g., `CUE_ON`), and `condName` is the name of the condition mask used for the analysis (e.g., `is_norm_common`).

| Field | Type | Description |
|---|---|---|
| `.sig` | `[N x T] double` | A matrix of significance values pooled from all sessions. |
| `.time_vector` | `[1 x T] double`| The time vector corresponding to the columns of the `.sig` matrix. |

---

### `anova_results` Structure

-   **Path:** `aggregated_sc_data.anova_results.(eventName)`
-   **Description:** Contains the pooled results from `analyze_anova.m`. The path is identical for `aggregated_snc_data`.

| Field | Type | Description |
|---|---|---|
| `.(p_value_name)` | `[N x T] double` | A matrix of p-values for a specific ANOVA term (e.g., `.p_rpe`), pooled from all sessions. |
| `.time_vector` | `[1 x T] double` | The time vector corresponding to the columns of the p-value matrices for this event. |